<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%- include('../include/title.ejs') %>
    <link href="/css/admin/userlist.css" rel="stylesheet" type="text/css">
</head>
<body>
    <%- include('../include/header.ejs') %>
    <%- include('../include/nav.ejs') %>

    <h2>유저 리스트</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>닉네임</th>
                <th>전화번호</th>
                <th>활동상태</th>
                <th>등록일</th>
                <th>수정일</th>
                <th>등급</th>
                <th>포인트</th>
                <th>패널티</th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach(user => { %>
                <tr>
                    <td><%= user.U_ID %></td>
                    <td><%= user.U_NICK %></td>
                    <td><%= user.U_PHONE %></td>
                    <td><%= user.U_ACTIVE === 2 ? '활동중' : '삭제됨' %></td>
                    <td><%= user.U_REG_DATE.toISOString().split('T')[0] %></td>
                    <td><%= user.U_MOD_DATE.toISOString().split('T')[0] %></td>
                    <td>
                        <% 
                        let grade; 
                        switch (user.U_CLASS) {
                            case 1: grade = 'STOP'; break;
                            case 2: grade = 'IRON'; break;
                            case 3: grade = 'BRONZE'; break;
                            case 4: grade = 'SILVER'; break;
                            case 5: grade = 'GOLD'; break;
                            case 6: grade = 'PLATINUM'; break;
                            case 7: grade = 'DIAMOND'; break;
                            default: grade = 'UNKNOWN'; 
                        }
                        %>
                        <%= grade %>
                    </td>
                    <td><%= user.U_POINT %></td>
                    <td><%= user.U_PENALTY %></td>
                </tr>
            <% }) %>
        </tbody>
    </table>

    <%- include('../include/footer.ejs') %>
</body>
</html>
